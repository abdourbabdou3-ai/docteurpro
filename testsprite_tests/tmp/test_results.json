[
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "67b7600d-c35c-4b6d-932c-259e18cf769c",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC001-Search doctors from /doctors and verify results list renders doctor cards",
    "description": "Verifies that searching by specialty or city from the doctors listing page shows doctor cards with rating and price information.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' navigation link (element index 56) to open the doctors listing page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        # Verify the page header text \"الأطباء\" is visible\n        assert await frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').is_visible(), 'Expected text \"الأطباء\" to be visible on the page.'\n        \n        # Verify a doctor card is visible (using the specific \"عرض الملف\" link for the first card)\n        assert await frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').is_visible(), 'Expected a doctor card (profile link) to be visible on the doctors listing.'\n        \n        # Cannot verify Rating and Price because their exact xpaths are not present in the provided available elements list\n        raise AssertionError('Rating and Price elements are not available in the provided elements list; cannot verify their visibility. Please provide exact xpaths for the rating and price elements.')\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690688813876//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.695Z",
    "modified": "2026-02-21T16:18:08.974Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "a7d7362d-86e9-4515-9073-f1e6cd238807",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC002-Search doctors from home page and verify results are displayed",
    "description": "Verifies that searching by specialty or city from the home page shows doctor cards with rating and price information.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'ابحث عن طبيب' (Search) button on the home page to open the doctors search/listing page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[1]/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Type 'الجزائر' into the city input (index 413) and submit the search (press Enter) to trigger results.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/section[2]/div/div/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('الجزائر')\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=ابحث عن طبيب').first).to_be_visible(timeout=3000)\n        assert '/doctors' in frame.url\n        await expect(frame.locator('text=طبيب').first).to_be_visible(timeout=3000)\n        await expect(frame.locator('text=السعر').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- No doctor cards are displayed after performing a search for city 'الجزائر' (page shows 'لا توجد نتائج').\n- Doctor listing page does not display price information because no doctor cards are present.\n- Search by specialty/city did not return results; rating and price could not be verified.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690720987199//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.702Z",
    "modified": "2026-02-21T16:18:41.112Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "668a0fbf-7d71-4f3b-b1f2-bbf8c0509137",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC003-Search with no matches shows 'No results found' message",
    "description": "Verifies that an empty result set displays a clear no-results message on the doctors listing page.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' link to navigate to the doctors listing page (/doctors) by interacting with the page (do NOT use direct URL navigation).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=No results found').first).to_be_visible(timeout=3000)\n        await expect(frame.locator('xpath=//div[contains(@class,\"doctor-card\")]').first).not_to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Search button not found on page\n- Specialty field is a restricted dropdown and does not accept arbitrary text input 'تخصص-غير-موجود-999'\n- No mechanism found to submit a custom filter search (no visible search/submit button and no clear submit trigger on inputs)\n- Unable to verify the presence of a 'No results found' message because a search that would produce an empty result set cannot be performed",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690666990935//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.708Z",
    "modified": "2026-02-21T16:17:47.262Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "7f1e317d-2212-4287-80e5-d20d93d1d40b",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC004-Specialty-only search returns doctors and keeps city filter empty",
    "description": "Verifies that searching with only a specialty still returns results and does not require a city value.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' link (index 54) to open the doctors listing page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the specialty dropdown so the 'قلب' option can be selected (click element index 342).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[2]/div/div/div/div[2]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690764472924//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.715Z",
    "modified": "2026-02-21T16:19:24.581Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "393106ec-5240-4c8e-b91f-6ba6ab57d95b",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC005-City-only search returns doctors and keeps specialty filter empty",
    "description": "Verifies that searching with only a city still returns results and does not require a specialty value.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' link to navigate to the doctors listing page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Type 'وهران' into the city search field (index 420) and submit the search (press Enter).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/section[2]/div/div/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('وهران')\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('xpath=//div[contains(@class,\"doctor-card\") or contains(@class,\"doctorCard\") or @data-test=\"doctor-card\"]').first).to_be_visible(timeout=3000)\n        await expect(frame.locator('xpath=//div[contains(@class,\"doctor-card\") or contains(@class,\"doctorCard\")]//span[contains(@class,\"rating\") or contains(@aria-label,\"rating\") or contains(.,\"Rating\") or contains(.,\"★\")]').first).to_be_visible(timeout=3000)\n        await expect(frame.locator('xpath=//div[contains(@class,\"doctor-card\") or contains(@class,\"doctorCard\")]//span[contains(@class,\"price\") or contains(.,\"DA\") or contains(.,\"د.ج\") or contains(.,\"Price\")]').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Doctor cards not displayed after performing search with only city 'وهران' — the page shows the message 'لا توجد نتائج'.\n- Specialty field default is 'جميع التخصصات' (not required), yet the search with only a city still returned no results.\n- No visible server or API error (500) was shown; the UI returned an empty results state instead of populated doctor cards.\n- Search submission was performed (city input filled and Enter pressed) but no doctor entries or related rating/price elements were rendered.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690711868473//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.721Z",
    "modified": "2026-02-21T16:18:31.980Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "0d34c8bf-ad27-49d1-9cc5-b6f7e7713b7d",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC006-Clear/empty search does not crash and still renders a listing state",
    "description": "Verifies that submitting search with empty filters does not break the page and shows a stable listing state (results or an informative message).",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' (Doctors) link (interactive element index 49) to open the doctors listing page (/doctors).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Submit the search with empty filters by focusing the search input and sending Enter (to trigger the search). Then check results in subsequent steps.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[2]/div/div/div/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        # Verify the search input is visible\n        assert await frame.locator('xpath=/html/body/section[2]/div/div/div/div[1]/input').is_visible(), \"Search input is not visible on /doctors page\"\n        # The page does not contain an explicit search/submit button in the provided elements list — report and stop the task\n        raise RuntimeError('Search/submit button not found on the page; feature appears to be missing. Task marked done.')\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690692966211//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.727Z",
    "modified": "2026-02-21T16:18:13.062Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "c5b6b22d-d13a-4c24-b889-f9cfe9b74ca7",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC007-Search handles Arabic input and whitespace robustly",
    "description": "Verifies that Arabic search terms with leading/trailing spaces still produce a stable and correct UI response.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' link (index 49) to navigate to the doctors page so the specialty search field becomes available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the specialty dropdown by clicking the specialty select element (index 340) so the specialty search input/options become available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[2]/div/div/div/div[2]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=دكتور').first).to_be_visible(timeout=3000)\n        await expect(frame.locator('xpath=//div[(contains(@class,\"card\") or contains(@class,\"doctor\"))]//span[contains(text(),\"د.ج\")]').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Specialty free-text input field not found on the /doctors page; only a select dropdown (index 340) is available.\n- The UI control for selecting a specialty is a <select> element, which does not permit typing a value with leading/trailing spaces (e.g., '  جلدية  '), so the requested input-based test cannot be executed.\n- The requested verification (type '  جلدية  ' and observe UI stability/response) could not be performed due to the missing free-text specialty field.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Low",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690717029623//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.734Z",
    "modified": "2026-02-21T16:18:37.176Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "748103ef-9ad5-4a22-b9cd-1cb18c68b227",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC008-View doctor details page and see appointment booking section",
    "description": "Verifies that a patient can open a doctor profile from the doctors list and see the booking UI (date/time slots and patient info fields).",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' (Doctors) link to navigate to the doctors list page\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first doctor card ('عرض الملف') to open the doctor's profile and booking UI (use element index 750).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first doctor card again (element index 750) to open the doctor's profile and reveal the booking UI so the booking-related elements can be verified.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' (Book Now) button (index 1090) to open the booking form so the 'Patient name' and 'Phone' input fields can be verified.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        frame = context.pages[-1]\n        assert \"/doctors\" in frame.url\n        title = await frame.title()\n        assert \"doctors\" in title.lower()\n        assert await frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[1]/input').is_visible()\n        assert await frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[1]/input').is_visible()\n        assert await frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[2]/input').is_visible()\n        assert await frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[3]/input').is_visible()\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690843656669//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.740Z",
    "modified": "2026-02-21T16:20:43.840Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "3d27d554-c213-44ef-8476-69406c31f9db",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC009-Successful booking flow up to confirmation (if backend available)",
    "description": "Verifies the end-to-end booking steps from selecting a time slot through confirming, ending with a visible confirmation message when saving succeeds.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' link to navigate to the doctors listing page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first doctor card's 'عرض الملف' button to open the doctor's profile (index 752).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first doctor card's 'عرض الملف' button (index 752) to open the doctor's profile and reveal appointment slots.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' button (index 1087) to open the booking form so appointment slots and booking fields become available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Input a valid date into the date field (index 1168) and then fill name and phone, submit the booking, and check for the confirmation message.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2026-02-22')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test Patient')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[3]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('0555123456')\n        \n        # -> Select an available time slot, submit the booking by clicking 'تأكيد الحجز' (index 1184), then verify the success/confirmation message is visible.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[2]/div/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[7]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click 'احجز الآن' (index 1306) to ensure booking form is open, then click the 'تأكيد الحجز' button (index 1184) after selecting a time slot, and finally verify that the text 'Booking confirmed' is visible.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Select an available time slot (click 8:00 button index 1337), click the Confirm booking button (index 1371), then search the page for the text 'Booking confirmed' to verify success.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[2]/div/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[7]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Select an alternate time slot (click index 1338), click confirm booking (index 1371), then search the page for the text 'Booking confirmed' to verify success.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div[2]/div[2]/div[2]/form/div[2]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div[2]/div[2]/div[2]/form/div[7]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Booking confirmed').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Booking confirmation message 'Booking confirmed' not found on page after submitting booking.\n- Confirm booking button was clicked (one or more times) but no success UI or confirmation text was rendered.\n- Booking form inputs remained filled (date=2026-02-22, name='Test Patient', phone='0555123456'), indicating the form was not cleared or navigated to a confirmation view.\n- No visible server error (500) or explicit error message is shown, suggesting the issue is lack of a visible success response or missing confirmation UI.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771691018372715//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.748Z",
    "modified": "2026-02-21T16:23:38.545Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "3e95306f-5be0-4035-9169-f28c50d1d872",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC010-Phone is required validation when confirming booking",
    "description": "Verifies that confirming a booking without a phone number shows a visible validation error indicating the phone field is required.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' link to navigate to the doctors list (/doctors). ASSERTION: 'الأطباء' navigation link is visible on the homepage.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click on the first doctor card's 'عرض الملف' button (element index 750) to open the doctor's profile and booking UI.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' (Book Now) button to open the booking form (index 911). ASSERTION: clicking this should open the booking form/modal with date/time and patient fields.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Enter a date into the date field (index 986), fill 'Test Patient' into the full name field (index 988), then click the 'تأكيد الحجز' (Confirm booking) button (index 1002). After the click, check for the validation message 'Phone is required'.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2026-02-22')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test Patient')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[6]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the booking form, enter only the patient name (leave phone blank), submit the booking, and verify that a visible validation error indicating the phone field is required appears. ASSERTION: Submitting the booking without a phone should produce a phone-required validation message.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Select an available time slot, clear the phone input (leave phone blank), locate/reveal the 'تأكيد الحجز' (Confirm booking) button, click it to submit, then verify that a visible validation message indicating the phone is required appears.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[2]/div/button[7]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n        # -> Click the 'تأكيد الحجز' (Confirm booking) button (index 1172) to submit the form with an empty phone field, then check for a visible validation message indicating the phone is required.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[7]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        # Verify the phone input exists and is empty (we left it blank in prior steps)\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[4]/input').nth(0)\n        assert await elem.is_visible(), 'Phone input is not visible; cannot verify phone-required validation'\n        phone_value = await elem.input_value()\n        assert phone_value == '', f\"Expected phone input to be empty before submission, but has value: {phone_value}\"\n        # Ensure booking form is present by checking the Cancel button\n        cancel_btn = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[7]/button[2]').nth(0)\n        assert await cancel_btn.is_visible(), 'Booking form does not appear to be open (Cancel button not visible)',\n        # The expected validation message element with text \"Phone is required\" is not present in the available elements for this page. Report the missing feature.\n        raise AssertionError(\"Validation message 'Phone is required' not found on the page. The phone-required validation message or its element appears to be missing; reporting the issue and marking the task done.\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/177169093655756//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.759Z",
    "modified": "2026-02-21T16:22:16.696Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "44215e1d-1a37-4ea0-a9c7-0fb0df9fff00",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC011-Cannot confirm booking without selecting a time slot",
    "description": "Verifies that the user cannot proceed to a successful booking confirmation if no date/time slot is selected.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' link to navigate to the doctors list page (use element index 51).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first doctor's 'عرض الملف' (View profile) button to open the doctor's profile and booking form (use interactive element index 754).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first doctor's 'عرض الملف' (index 754) again to attempt to open the doctor's profile/booking form so the Patient name and Phone fields become available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' button (interactive element index 1091) to open the booking form, then wait briefly for the SPA/modal to render.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Type 'Test Patient' into the 'Patient name' field (input index 1172).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test Patient')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[3]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('0555123456')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[6]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' (Book Now) button (interactive element index 1244) to open the booking form so the Confirm booking action can be attempted.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'تأكيد الحجز' (Confirm booking) button (interactive element index 1292) to attempt confirming the booking without selecting a date/time, then wait for the UI response to check for the 'Select a date and time' validation message.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[6]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' (Book Now) button (interactive element index 1331) to open the booking form so the confirm booking without a date selection can be attempted and the validation message checked.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'تأكيد الحجز' (Confirm booking) button (interactive element index 1379) to attempt submitting without selecting a date/time, then wait and check the page for the validation message 'Select a date and time' (and common Arabic equivalents).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[6]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' (Book Now) button (interactive element index 1418) to open the booking form so the confirm-without-date attempt can be executed.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Select a date and time').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Attempted booking submission was not executed: the Cancel (إلغاء) button was clicked instead of the Confirm (تأكيد الحجز) button during submission attempts, so no submission occurred.\n- No client-side validation message indicating a missing date/time (e.g., 'Select a date and time' or Arabic equivalents such as 'اختر تاريخ ووقت', 'الرجاء تحديد التاريخ والوقت') was displayed on the page after the failed submission attempts.\n- The booking form shows the name field populated with 'Test Patient' and the phone field populated with '0555123456', but the date input remained empty/invalid and no validation feedback was triggered.\n- The first doctor's 'عرض الملف' button (index 754) failed to open the booking form when clicked (2 attempts), requiring use of the separate 'احجز الآن' button to access the form.\n- Because the submission action was never successfully executed, it is not possible to confirm whether the system enforces server-side blocking of bookings without a date/time selection.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771691119035631//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.766Z",
    "modified": "2026-02-21T16:25:19.153Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "1394d08e-a8cc-4dbe-b1fd-e5bb31397f2f",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC012-Phone field rejects obviously invalid short value (client-side validation)",
    "description": "Verifies that entering an obviously invalid phone value triggers a visible validation message and prevents confirmation.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'الأطباء' navigation link to open the doctors list (use interactive element index 49).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first doctor card's 'عرض الملف' button to open the doctor's profile (use interactive element index 752).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/section[3]/div/div/div[1]/div[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' button on the doctor's profile to open the booking form (click interactive element index 913).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the booking form: set the date, enter patient name 'Test Patient', enter phone '123', click Confirm booking, then search the page for the text 'Invalid phone'.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2026-02-22')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test Patient')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[3]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123')\n        \n        # -> Click the 'تأكيد الحجز' (Confirm booking) button (interactive index 1004) to submit the form and then check the page for visible text 'Invalid phone'.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/form/div[7]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'احجز الآن' button (index 1118) to re-open the booking form so the confirm action can be retried.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/main/div/div/div[2]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Invalid phone').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Confirm booking button not found on booking form; only 'إلغاء' (cancel) button is present (index 1184).\n- Unable to submit booking because no accessible submit/confirm control is available on the booking form.\n- No visible validation message 'Invalid phone' was displayed after entering phone value '123'.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Low",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690945754095//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.773Z",
    "modified": "2026-02-21T16:22:25.864Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "84600096-9679-4f71-ad1b-e94000735cf7",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC013-Login then open Doctor Dashboard and see core dashboard UI",
    "description": "Verifies an authenticated doctor can reach the dashboard and see key dashboard sections render.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to /login (http://localhost:3000/login) using the required navigate action.\n        await page.goto(\"http://localhost:3000/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Enter credentials into the form: type email into index 309, type password into index 310, then click the Login button at index 313.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        assert '/dashboard' in frame.url\n        await expect(frame.locator('text=إحصائيات').first).to_be_visible(timeout=3000)\n        await expect(frame.locator('text=المواعيد القادمة').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Current URL is '/admin' instead of expected '/dashboard' (doctor dashboard not reached).\n- Dashboard page displays admin heading 'لوحة تحكم الإدارة' indicating the admin panel loaded rather than a doctor dashboard.\n- Expected text 'إحصائيات' not found on the page.\n- Expected text 'المواعيد القادمة' not found on the page.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690759410928//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.779Z",
    "modified": "2026-02-21T16:19:19.536Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "f881b298-825e-4c8f-acfa-8ce8848ae0bb",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC014-Confirm an upcoming appointment from its details card",
    "description": "Verifies a doctor can open an upcoming appointment and confirm it, and the status updates on-screen.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' link to open the login page (use interactive element index 58).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the email and password fields (indexes 319 and 323) with admin@docteur.dz / admin123 and click the 'دخول' button (index 326).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'إجمالي المواعيد' / upcoming appointments metric card to open the appointments list or the upcoming appointment card (click element index 459).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[2]/div[1]/div[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'إجمالي المواعيد' metric card again (index 459) to try to open the appointments list or reveal upcoming appointment cards.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[2]/div[1]/div[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'إجمالي المواعيد' metric element with index 478 to try to open the appointments list or reveal upcoming appointment cards.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[1]/main/div[2]/div[4]/div[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Try a different navigation path to find appointments — open the 'الأطباء' section to look for doctor view or links to appointments, by clicking element index 402.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/aside/nav/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=تم التأكيد').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Appointments list or upcoming appointment card not found on admin dashboard or doctors page\n- No 'تأكيد' (Confirm) button or equivalent appointment confirmation control present in the UI\n- No navigation link or menu item labeled 'مواعيد' (Appointments) found to access upcoming appointments\n- Unable to complete verification because the appointment confirmation feature is not available in the accessible interface",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771691014168596//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.785Z",
    "modified": "2026-02-21T16:23:34.289Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "6cf4fa25-9cbd-4edb-9261-4d2c6a1149e3",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC015-Cancel an upcoming appointment from its details card",
    "description": "Verifies a doctor can cancel an upcoming appointment and the status updates on-screen.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' (Login) link on the home page to open the login form/page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the email field with 'admin@docteur.dz' (index 321) as the next immediate action.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'الأطباء' link (index 403) to open the doctors list or a doctor's dashboard where upcoming appointments can be found.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/aside/nav/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=تم الإلغاء').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Appointment management UI for doctors not accessible from admin: no 'Appointments' ('المواعيد') link or menu item found.\n- No upcoming appointment cards visible on the current admin doctors page; doctor entries or appointment lists are empty.\n- No 'إلغاء' (Cancel) button present on any visible element to cancel appointments.\n- No option to impersonate or navigate to a doctor's dashboard to perform appointment cancellation was found.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690825890052//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.791Z",
    "modified": "2026-02-21T16:20:26.066Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "76b4531b-5c5a-4ae0-a649-901358c115e0",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC016-Complete an appointment when the option is available",
    "description": "Verifies a doctor can mark an appointment as completed and see the updated status.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' (Login) link to open the login page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the email and password fields with the provided credentials and submit the login form (type email into index 319, type password into index 323, then click the login button at index 326).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the 'الأطباء' (Doctors) section from the admin sidebar to look for doctor/appointment controls or a way to access the doctor's appointment view.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/aside/nav/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=مكتمل').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Doctor-facing appointment UI not reachable from admin session: no link or impersonate control to open a doctor's view was found on the admin pages.\n- No upcoming appointment cards or appointment list are visible on the current 'إدارة الأطباء' (Doctors) admin page.\n- No 'إكمال' (Complete) button or equivalent appointment-completion control is present on the pages accessible in this session.\n- Unable to verify the 'مكتمل' status because the required doctor interface or appointment entries are not accessible from the current account.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690878265886//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.798Z",
    "modified": "2026-02-21T16:21:18.393Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "f1091c03-76b1-4dc4-a3fa-8469d01ee8c7",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC017-Update doctor profile settings from the dashboard",
    "description": "Verifies a doctor can open profile settings and save a change with visible confirmation.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to /login (explicit navigation as specified).\n        await page.goto(\"http://localhost:3000/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Type the username into the email field (input index 308).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click 'الأطباء' in the sidebar (index 429) to open the doctors list so a doctor's profile/settings can be opened.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/aside/nav/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'نشط' filter button to display active doctors so a doctor's profile/settings can be opened.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[1]/main/div[2]/div/div/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=تم الحفظ').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690866779334//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.804Z",
    "modified": "2026-02-21T16:21:06.914Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "449d7f5d-9f0c-44d8-9fd6-6163f124ba34",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC018-Update working hours from the dashboard",
    "description": "Verifies a doctor can change working hours and see a visible success state.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' (Login) link to open the login page (element index 62).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the email and password fields with the provided credentials and click the Login button to sign in (use input indexes 320 and 324, then click index 327).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the Doctors management page to locate a doctor account (click the 'الأطباء' link) so the 'ساعات العمل' section for a doctor can be accessed.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/aside/nav/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=تم الحفظ').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- 'ساعات العمل' link/button not found on the doctors management page.\n- Search for the text 'ساعات العمل' on the page returned no matches.\n- No visible control in doctor rows or actions to open working hours for any doctor.\n- Cannot verify the success message 'تم الحفظ' because the working-hours feature is not accessible.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690911254225//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.811Z",
    "modified": "2026-02-21T16:21:51.369Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "2e968e7e-bf31-40d9-ac2e-7ae474e5f7ba",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC019-Admin approves a doctor application and sees status updated",
    "description": "Verifies an authenticated admin can open the admin panel, approve a doctor application, and see the application status change to approved.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' (Login) link to open the login page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Type admin email into the email field and password into the password field, then click the 'دخول' button to log in.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'أطباء بانتظار الموافقة' (Doctors pending approval) link to view pending doctor applications.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[4]/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        assert '/dashboard' in frame.url\n        assert '/admin' in frame.url\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- No pending doctor applications found on /admin/doctors?status=pending — the page displays 'لا يوجد أطباء'.\n- Approval button not found on page because there are no doctor rows available to act upon.\n- Verification of a status change to 'approved' could not be completed because no application existed to approve.\n- Admin panel route loaded successfully but lacked the test data required for the approval workflow.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690859420165//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.817Z",
    "modified": "2026-02-21T16:20:59.945Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "bfcf0031-e7d0-4785-8b19-46c0796aae27",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC020-Admin views doctor applications list (happy path visibility check)",
    "description": "Verifies an authenticated admin can reach the admin panel and see the doctor applications list area render.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' link to open the login page (use element index 63)\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Enter the admin credentials into the email and password fields, then click the 'دخول' button (submit the login form).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'أطباء بانتظار الموافقة' quick action in the dashboard to open the doctor applications/pending approvals list (use element index 520).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[4]/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690862613324//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.824Z",
    "modified": "2026-02-21T16:21:02.781Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "28fc35a5-0f3b-4d10-80ec-9df6b6777285",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC021-Admin approves a doctor application from the applications list",
    "description": "Verifies the approve action is available and results in a visible approved state for a selected doctor application.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' (Login) link to navigate to the login page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Enter the admin email into the email field (index 319) and proceed to fill password and submit the form.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[3]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the pending doctors list by clicking 'أطباء بانتظار الموافقة' (index 518). Then locate the first pending doctor and approve it (subsequent steps).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[4]/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        assert '/admin' in frame.url\n        await expect(frame.locator('text=تمت الموافقة').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- No pending doctor entries found on the /admin/doctors?status=pending page; the pending list is empty, so there is nothing to approve.\n- No \"Approve\" button or equivalent approval control is present in the pending doctors view, preventing performing the approval action.\n- Unable to verify the post-approval text 'تمت الموافقة' because the approval action could not be performed due to missing UI elements.\n- Admin approval functionality may be hidden behind additional interactions, require different permissions, or there are no pending applications in the test data.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690853672211//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.830Z",
    "modified": "2026-02-21T16:20:53.809Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "87ccf642-ef23-4e7b-ba80-8d4b167b1700",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC022-Admin updates a subscription package and sees confirmation",
    "description": "Verifies an authenticated admin can edit subscription package details and sees a visible success confirmation.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' (Login) link (element 60) to open the login form.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the email and password fields with the admin credentials and click the 'دخول' (Login) button to authenticate.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'إدارة الباقات' (Manage Packages) link (index 523) to open the subscription packages management page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[4]/a[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'تعديل' (Edit) button for the first subscription package (element index 616) to open the edit form.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[2]/div[1]/div/div[2]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Type 'تحديث' into the Arabic package name input (index 727) as the final interaction, then stop.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[1]/main/div[3]/div/form/div[1]/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('تحديث')\n        \n        # -> Click the Save button (index 765) to submit the changes, then wait for a visible success confirmation/toast to appear and verify it.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[3]/div/form/div[2]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=الباقات').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771691002264063//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.837Z",
    "modified": "2026-02-21T16:23:22.380Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "4966009e-0703-4558-aa85-cf51839b6167",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC023-Admin saves subscription package changes and sees updated values",
    "description": "Verifies saving subscription package edits shows a success message and the updated package details are visible in the list/details view.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' (Login) link to open the login page (interactive element index 59).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Enter the test email into the email field (index 320). Then enter the password (index 324) and click the 'دخول' button (index 327).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the Subscription Packages (الباقات) list so the first package can be edited (click the 'الباقات' / 'إدارة الباقات' link). ASSERTION: The 'الباقات' menu item (index 409) is visible and clickable.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/aside/nav/ul/li[4]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'تعديل' (Edit) button for the first subscription package to open the edit form (click interactive element index 624). ASSERTION: Clicking index 624 should open the edit form/modal where the Save button will be available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[2]/div[1]/div/div[2]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'حفظ' (Save) button (interactive element index 775) to submit the edited subscription package.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[1]/main/div[3]/div/form/div[2]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the first package's edit modal again so its fields can be inspected and search the page for the success message 'تم التحديث بنجاح'. Click the Edit button for the first package (interactive element index 624).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/main/div[2]/div[1]/div/div[2]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the modal Save button (index 871) to submit the edit, wait for completion, look for the success message 'تم التحديث بنجاح', then close the modal and verify the package details are visible in the list (e.g., price '‏2.000 د.ج.‏').\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[1]/main/div[3]/div/form/div[2]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=تم التحديث بنجاح').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Success message 'تم التحديث بنجاح' not found on page after saving edits.\n- No confirmation toast or visible success message appeared after two save attempts.\n- Updated package details (e.g., price, storage, max appointments) could not be verified in the packages list after reopening the edit modal.\n- Edit modal save actions were triggered but did not produce a visible success confirmation, preventing verification of the update.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771691149185056//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.843Z",
    "modified": "2026-02-21T16:25:49.320Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "405b1917-7c8a-49cc-88f5-53d2328884a5",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC024-Non-admin user is blocked from accessing the admin panel (permissions)",
    "description": "Verifies a logged-in non-admin cannot access the admin panel and sees an insufficient permissions or 403 message.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to /login (use navigate action as specified in test steps).\n        await page.goto(\"http://localhost:3000/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Type the non-admin credentials into the email and password fields and submit the login form (email -> index 310, password -> index 311, then click login -> index 314). After that, navigate to /admin to verify the 403/insufficient-permissions messages.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('nonadmin@example.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('wrong-nonadmin-password')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Navigate to /admin and check for the insufficient-permissions messages ('غير مصرح' and '403').\n        await page.goto(\"http://localhost:3000/admin\", wait_until=\"commit\", timeout=10000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=غير مصرح').first).to_be_visible(timeout=3000)\n        await expect(frame.locator('text=403').first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Login did not succeed with provided non-admin credentials - the login form remained visible after submitting the credentials.\n- Navigation to /admin did not show a 403 or insufficient-permissions page - the application redirected to the login page instead.\n- Text 'غير مصرح' was not found on the page after attempting to access /admin.\n- Text '403' was not found on the page after attempting to access /admin.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690891597677//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.849Z",
    "modified": "2026-02-21T16:21:31.840Z"
  },
  {
    "projectId": "0d76f9c7-e620-4fd6-b06f-32c83292025c",
    "testId": "ad2421b9-19f0-4ddf-8c22-faa916aa138b",
    "userId": "9478f478-5091-7007-84e3-82d96b3fac58",
    "title": "TC025-Admin sees a loading indicator before admin data renders",
    "description": "Verifies the admin panel displays a visible loading state while fetching admin data, then transitions to content or an error message.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'تسجيل الدخول' (Login) link to open the login page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/nav/div/div/a[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the email and password fields on the login page and submit the form (click 'دخول').\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin@docteur.dz')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin123')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=/html/body/div[2]/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=جار التحميل').first).to_be_visible(timeout=3000)\n        await expect(frame.locator(\"xpath=//div[@id='admin-content']\").first).to_be_visible(timeout=3000)\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "TEST FAILURE\n\nASSERTIONS:\n- Loading text 'جار التحميل' not displayed during admin data fetch; no visible loading indicator found.\n- Admin dashboard content rendered immediately, preventing observation of a loading state.\n- No alternate loading indicator (spinner, skeleton, or similar text) was detected in the visible UI.\n- Unable to verify a transition from loading to content because the initial loading state is absent.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Low",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478f478-5091-7007-84e3-82d96b3fac58/1771690865566205//tmp/test_task/result.webm",
    "created": "2026-02-21T16:15:21.855Z",
    "modified": "2026-02-21T16:21:05.698Z"
  }
]
